<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bonyan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
        }
        .search-bar {
            width: 200px;
            height: 40px;
            border: 2px solid #000000;
            padding-left: 10px;
            border-radius: 9999px; /* rounded edges */
            position: relative;
        }
        .search-icon {
            position: absolute;
            top: 50%;
            left: 0.95rem;
            transform: translateY(-50%);
        }
        .button-blue {
            background-color: #004aad;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .button-outline {
            background-color: transparent;
            color: #004aad;
            padding: 10px 15px;
            border: 2px solid #004aad;
            border-radius: 5px;
            cursor: pointer;
            
        }
        .button-Serves {
            background-color: transparent;
            color: #ffffff;
            padding: 10px 15px;
            border: 2px solid #ffffff;
            border-radius: 5px;
            cursor: pointer;
            
        }
        .content-box {
            background-color: #ffffff;
            color: rgb(13, 125, 216);
            padding: 20px;
            border-radius: 10px;
        }
        .content-box h3 {
            color: #023151;
        }
        .gradient-bg {
            background: linear-gradient(to right, #37d0d87f, #004bad);
            background-image: url('http://localhost/img/BB2.webp');
            background-size: cover;
            background-position: center;
            height: 100vh;
            margin: 0; /* Blue to green gradient */
        }
    </style>
</head>
<head>
<body class="gradient-bg">
    <header class="bg-white py-1">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center">
                <img src="https://i.postimg.cc/28d4mwyG/logo.png" href="HomePageVIstorT.html" alt="Bonyan" class="mr-2">
                <a href="http://localhost/project_Bonyan/code/CODE_HTML/Homepagecustomr.html" class="text-2xl font-bold">Bonyan | بُنيان</a>
            </div>
            <nav>
                <nav class="flex items-center">
                    <a href="http://localhost/project_Bonyan/code/CODE_HTML/Homepagecustomr.html" class="text-gray-700 mx-3">Home</a>
                    <a href="http://localhost/project_Bonyan/code/CODE_HTML/Bills.html" class="text-gray-700 mx-3">Bills</a>
                    <a href="http://localhost/project_Bonyan/code/CODE_HTML/Notifications.html" class="text-gray-700 mx-5"><i class="fas fa-bell"></i></a>
                    <a href="http://localhost/project_Bonyan/code/CODE_HTML/chat.html" class="text-gray-700 mx-5"><i class="fas fa-comment-alt"></i></a>
                    <a href="http://localhost/project_Bonyan/code/CODE_HTML/Account.html" class="text-gray-700 mx-5"><i class="fas fa-user-circle"></i></a>
                </nav>
            </nav>
            
        </div>
    </header>

    <main class="p-4 main-bg">
        <div class="max-w-2xl mx-auto">
            <div class="space-y-4">
                <div class="max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-md">
                    <h2 class="text-2xl font-semibold text-center text-gray-700 mb-4">Add a Project to the Tender</h2>
                    
                    <form id="projectForm" action="http://localhost/project_Bonyan/code/CODE_PHP/Create_Project.php" method="post" >
                        <div class="mb-4">
                            <label for="project-name" class="block text-gray-700 text-sm font-bold mb-2">Project Name:</label>
                            <input type="text" id="project-name" name="projectName" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline" placeholder="Enter project name">
                        </div>
                        <div class="mb-4">
                            <label for="project-requirements" class="block text-gray-700 text-sm font-bold mb-2">Project Requirements:</label>
                            <textarea id="project-requirements" name="projectRequirements" rows="4" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="Enter project requirements"></textarea>
                        </div>
                        <div class="mb-4">
                            <label for="project-location" class="block text-gray-700 text-sm font-bold mb-2">Project Location:</label>
                            <input type="text" id="project-location" name="projectLocation" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline" placeholder="Enter location">
                        </div>
                        <div class="mb-4">
                            <label for="location-details" class="block text-gray-700 text-sm font-bold mb-2">Location Details (Region, Governorate, Area):</label>
                            <input type="text" id="location-details" name="locationDetails" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline" placeholder="Enter details">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Upload Plans and Designs:</label>
                            <div class="flex items-center justify-between">
                                <label class="block text-blue-500 cursor-pointer hover:underline">Plan (PDF)
                                    <input type="file" name="planFile" class="hidden">
                                </label>
                                <label class="block text-blue-500 cursor-pointer hover:underline">Designs (PDF)
                                    <input type="file" name="designFile" class="hidden">
                                </label>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
                                Submit Project
                            </button>
                            
                            <button id="deleteAllBtn" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline bg-red-500" type="button">
                                Delete All
                            </button>
                        </div>
                        <div id="responseMessage" style="color: red; font-size: 16px; margin-top: 20px;"></div>

                    </form>
                </div>
                
            </div>
        </div>
    </main>

    <footer class="bg-white py-7 mt-44">
        <p class="text-center text-gray-800">&copy; 2024 Bonyan Contracting. All rights reserved.</p>
    </footer>   
     
</body>
</html>
<script>
    function validateFormData(formData) {
    for (let [key, value] of formData.entries()) {
        if (!value.trim()) {
            responseMessage.textContent = `${key} is required.`;
            responseMessage.style.color = 'red';
            return false;
        }
    }
    return true;
}

form.addEventListener('submit', (e) => {
    e.preventDefault(); // Prevent the default form submission
    const formData = new FormData(form);

    if (!validateFormData(formData)) {
        // Stop the form submission if validation fails
        return;
    }

    // Proceed with Fetch API if validation is successful
    fetch('http://localhost/project_Bonyan/code/CODE_PHP/Create_Project.php', {
        method: 'POST',
        body: formData // Note: do not set Content-Type header
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Failed to send project data. Please try again.');
        }
        return response.text();
    })
    .then(data => {
        console.log(data); // Log server response
        responseMessage.textContent = 'Project submitted successfully!';
        responseMessage.style.color = 'green';
        setTimeout(() => {
            window.location.href = 'http://localhost/project_Bonyan/code/CODE_HTML/Homepagecustomr.html';
        }, 2000); // Redirect after showing the message
    })
    .catch(error => {
        console.error('Error:', error);
        responseMessage.textContent = error.message;
        responseMessage.style.color = 'red';
    });
});


</script>